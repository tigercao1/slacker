(this.webpackJsonpslacker=this.webpackJsonpslacker||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(26),i=n.n(r),s=(n(35),n(3)),u=(n(36),n(37),n(7)),d=n(1),l=function(e){var t=Object(c.useState)(!0),n=Object(s.a)(t,2),a=n[0],r=n[1];return Object(d.jsxs)("div",{className:"home-body "+(a?"mount":"unmount"),onAnimationEnd:function(){a||e.handleUnmount()},children:[Object(d.jsx)("div",{className:"spacer"}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("h1",{children:"Slacker"}),Object(d.jsx)("div",{"data-cy":"home-button",className:"btn home",onClick:function(){r(!1)},children:Object(d.jsx)(u.a,{icon:"chevron-right"})})]})]})},o=(n(43),{LEISURE:"leisure",STRICT:"strict",USER:"user"});Object.freeze(o);var j=o,b=function(e){var t=function(t){e.setCurrentTab(t)};return Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsxs)("div",{className:"tabs",children:[Object(d.jsx)("div",{"data-cy":"leisure-tab",className:e.currentTab===j.LEISURE?"tab selected":"tab unselected",onClick:function(){return t(j.LEISURE)},children:"Leisure"}),Object(d.jsx)("div",{"data-cy":"strict-tab",className:e.currentTab===j.STRICT?"tab selected":"tab unselected",onClick:function(){return t(j.STRICT)},children:"Strict"})]}),Object(d.jsx)("div",{className:"options",children:Object(d.jsx)("div",{"data-cy":"user-tab",className:e.currentTab===j.USER?"user-icon selected":"user-icon unselected",onClick:function(){return t(j.USER)},children:Object(d.jsx)(u.a,{icon:"user"})})})]})},m=n(4),O=function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return("00"+e).slice(-t)};return t(e/36e5|0)+":"+t(e%36e5/6e4|0)+":"+t(e%6e4/1e3|0)+"."+t(e%1e3,3)},f=function(e,t){return e.reduce((function(e,n){return n.type===t?e+n.time:e+0}),0)},h=(n(44),function(e){var t=e.id,n=e.type,a=Object(c.useState)(e.name?e.name:"Time-Card-"+e.id),r=Object(s.a)(a,2),i=r[0],l=r[1],o=Object(c.useState)(e.time),j=Object(s.a)(o,2),b=j[0],m=j[1],f=Object(c.useState)(O(0)),h=Object(s.a)(f,2),v=h[0],p=h[1],x=Object(c.useState)(!1),C=Object(s.a)(x,2),y=C[0],N=C[1],S=Object(c.useState)(!0),g=Object(s.a)(S,2),A=g[0],T=g[1],I=Object(c.useRef)(""),R=Object(c.useRef)();Object(c.useEffect)((function(){!y&&I.current&&clearInterval(I.current),y&&e.currentActiveCardId!==t&&(N(!1),e.updateObjTime(t,b))}),[y,e.currentActiveCardId,t]),Object(c.useEffect)((function(){e.mostRecentAddedCardId&&e.mostRecentAddedCardId===t&&R.current.focus()}),[t,e.mostRecentAddedCardId]),Object(c.useEffect)((function(){p(O(b))}),[b]),Object(c.useEffect)((function(){m(e.time)}),[e.time]);return Object(d.jsxs)("div",{className:"leisure-card "+(A?"mount":"unmount"),onAnimationEnd:function(){A||e.handleDeleteItem(t)},children:[Object(d.jsx)(u.a,{"data-cy":"delete",icon:"times",className:y||e.currentActiveCardType===n?"delete disabled":"delete function",onClick:function(){T(!1)}}),Object(d.jsx)("input",{"data-cy":"name",className:"card-title",ref:R,defaultValue:i,onBlur:function(){var n=R.current.value;n&&n!==i&&(l(n),e.handleNameChange(t,n))},onFocus:function(e){e.target.select()},onKeyDown:function(e){var t=i;13===e.keyCode?R.current.blur():27===e.keyCode&&(R.current.value=t,R.current.blur())}}),Object(d.jsxs)("div",{className:"time-group",children:[Object(d.jsx)("div",{"data-cy":"time",className:"time",children:v}),y?Object(d.jsx)("div",{"data-cy":"pause",className:"btn function",onClick:function(){N(!1),e.handleCurrentActive(null,null),e.updateObjTime(t,b)},children:Object(d.jsx)(u.a,{icon:"pause"})}):Object(d.jsx)("div",{"data-cy":"play",className:"btn function",onClick:function(){if(!y){e.handleCurrentActive(t,n),N(!0);var c=Date.now();I.current=setInterval((function(){var t=Math.floor(Date.now()-c);m(b+t),e.updateTotalTime(t,n)}),10)}},children:Object(d.jsx)(u.a,{icon:"play"})})]}),Object(d.jsx)("div",{"data-cy":"notify",className:"sound",children:"Notify"})]})}),v=(n(45),function(e){var t=e.type,n=Object(c.useState)(f(e.timerObjList,t)),a=Object(s.a)(n,2),r=a[0],i=a[1];Object(c.useEffect)((function(){i(f(e.timerCardList,t))}),[e.timerCardList,t]);var l=function(e,t){i(r+e)};return Object(d.jsxs)("div",{id:t,className:"column",children:[Object(d.jsxs)("div",{className:"leisure-header",children:[Object(d.jsxs)("div",{className:"title",children:[Object(d.jsx)("div",{"data-cy":"list-title-"+t,className:"text",children:t.charAt(0).toUpperCase()+t.slice(1)}),Object(d.jsx)("div",{"data-cy":"add-card-"+t,className:"btn function",onClick:function(){return e.handleAddCard(t)},children:Object(d.jsx)(u.a,{icon:"plus"})})]}),Object(d.jsxs)("div",{className:"total-time",children:[Object(d.jsx)("div",{"data-cy":"total-time-"+t,className:"time",children:O(r)}),Object(d.jsxs)("div",{className:"btn-group",children:[Object(d.jsx)("div",{"data-cy":"pause-all-"+t,className:e.currentActiveCardType===t?"btn function":"btn disabled",onClick:e.handlePauseAll,children:Object(d.jsx)(u.a,{icon:"pause"})}),Object(d.jsx)("div",{"data-cy":"reset-all-"+t,className:e.currentActiveCardType===t?"btn disabled":"btn function",onClick:function(){return e.handleResetAll(t)},children:Object(d.jsx)(u.a,{icon:"undo"})})]})]})]}),Object(d.jsx)("div",{"data-cy":"leisure-card-list-"+t,className:"body",children:function(t){return e.timerCardList.map((function(n){return n.type===t&&Object(d.jsx)(h,{name:n.name,id:n.id,time:n.time,type:n.type,handleCurrentActive:e.handleCurrentActive,handleNameChange:e.handleNameChange,currentActiveCardId:e.currentActiveCardId,currentActiveCardType:e.currentActiveCardType,mostRecentAddedCardId:e.mostRecentAddedCardId,updateTotalTime:l,updateObjTime:e.updateObjTime,handleDeleteItem:e.handleDeleteItem},n.id)}))}(t)})]})}),p=(n(46),n(15)),x=function(){var e=JSON.parse(localStorage.getItem("timerCards")),t=e||[{name:"",id:Object(p.a)(6),time:0,type:"work"},{name:"",id:Object(p.a)(6),time:0,type:"slack"}],n=Object(c.useState)(t),a=Object(s.a)(n,2),r=a[0],i=a[1],u=Object(c.useState)(null),l=Object(s.a)(u,2),o=l[0],j=l[1],b=Object(c.useState)(null),O=Object(s.a)(b,2),f=O[0],h=O[1],x=Object(c.useState)(null),C=Object(s.a)(x,2),y=C[0],N=C[1];Object(c.useEffect)((function(){localStorage.setItem("timerCards",JSON.stringify(r))}),[r]);var S=function(e){var t=Object(m.a)(r),n={name:"",id:Object(p.a)(6),time:0,type:e};t.push(n),N(n.id),i(t)},g=function(e,t){j(e),h(t)},A=function(e,t){var n=Object(m.a)(r);n.find((function(t){return t.id===e})).name=t,i(n),N(null)},T=function(e,t){var n=Object(m.a)(r);n.find((function(t){return t.id===e})).time=t,i(n)},I=function(e){var t=Object(m.a)(r);i(t.filter((function(t){return t.id!==e})))},R=function(){g(null,null)},k=function(e){var t=Object(m.a)(r);for(var n in t)t[n].type===e&&(t[n].time=0);i(t)},E=function(e){return Object(d.jsx)(v,{type:e,handleCurrentActive:g,handleNameChange:A,currentActiveCardId:o,currentActiveCardType:f,mostRecentAddedCardId:y,updateObjTime:T,handleDeleteItem:I,handlePauseAll:R,handleResetAll:k,handleAddCard:S,timerObjList:t,timerCardList:r})};return Object(d.jsxs)("div",{className:"leisure",children:[E("work"),E("slack")]})},C=(n(47),function(e){return Object(d.jsx)("div",{className:"strict",children:Object(d.jsx)("h1",{children:"Coming soon"})})}),y=(n(48),n(30)),N=n(5),S=n.n(N),g=n(8),A=n(27),T=n(28),I=n(29),R=n.n(I),k=n(13),E=n.n(k),L=R.a.create({baseURL:E.a.API_PROTOCOL+"://"+E.a.API_HOST+(null!==E.a.API_PORT?":"+E.a.API_PORT:""),responseType:"json",timeout:5e3}),w=function(){function e(){Object(A.a)(this,e),this.register=this.register.bind(this)}return Object(T.a)(e,[{key:"register",value:function(){var e=Object(g.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.post("/users/signup",{body:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),P=function(e){var t=new w,n=Object(y.a)(),a=n.register,r=n.handleSubmit,i=Object(c.useState)(!1),u=Object(s.a)(i,2),l=u[0],o=u[1];return Object(d.jsx)(d.Fragment,{children:l?Object(d.jsxs)("form",{"data-cy":"register-form",onSubmit:r((function(e){t.register(e)})),children:[Object(d.jsx)("input",{name:"username",type:"email",placeholder:"example@mail.com",ref:a({required:!0})}),Object(d.jsx)("input",{name:"password",type:"password",placeholder:"Password",ref:a({required:!0})}),Object(d.jsxs)("div",{className:"btn-group",children:[Object(d.jsx)("input",{type:"submit",value:"Register"}),Object(d.jsx)("div",{className:"link",onClick:function(){return o(!1)},children:"Already have an account? Login"})]})]}):Object(d.jsxs)("form",{"data-cy":"login-form",onSubmit:r((function(e){t.login(e)})),children:[Object(d.jsx)("input",{name:"username",type:"email",placeholder:"example@mail.com",ref:a({required:!0})}),Object(d.jsx)("input",{name:"password",type:"password",placeholder:"Password",ref:a({required:!0})}),Object(d.jsxs)("div",{className:"btn-group",children:[Object(d.jsx)("input",{type:"submit",value:"Login"}),Object(d.jsx)("div",{className:"link",onClick:function(){return o(!0)},children:"Register"})]})]})})},U=n(10),D=n(9);U.b.add(D.e,D.c,D.b,D.f,D.d,D.a,D.g);var F=function(){var e=Object(c.useState)(!0),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(j.LEISURE),i=Object(s.a)(r,2),u=i[0],o=i[1];return Object(d.jsx)("div",{className:"App",children:n?Object(d.jsx)(l,{show:n,handleUnmount:function(){a(!1)}}):Object(d.jsxs)("div",{className:"app-body",children:[Object(d.jsx)(b,{currentTab:u,setCurrentTab:o}),u===j.LEISURE?Object(d.jsx)(x,{}):u===j.STRICT?Object(d.jsx)(C,{}):u===j.USER?Object(d.jsx)(P,{}):Object(d.jsx)(d.Fragment,{})]})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(F,{})}),document.getElementById("root")),q()}},[[69,1,2]]]);
//# sourceMappingURL=main.b70c9d50.chunk.js.map